{{ $collapsed := .Get "collapsed" | default false }}
{{ $placement := .Get "placement" | default "sidebar" }}

{{ with .Page.TableOfContents }}
  {{ if (eq $placement "sidebar") }}
    <div class="d-none d-lg-block col-3">
      <div class="td-toc td-toc--inline ml-5">
  {{ else if (eq $placement "inline") }}
    <div class="d-lg-none col-12">
      <div class="td-toc td-toc--inline mb-5">
  {{ end }}
      {{ if $collapsed }}
        <a id="page__toc-link" class="d-inline-flex align-items-center collapsed" href="#page__toc--expand" data-toggle="collapse" aria-controls="td-page-toc" aria-expanded="false" aria-label="Toggle toc navigation">
            <h5 class="lead"><i class="fas fa-list mr-2"></i>Page Contents</h5>
            <i class="fas fa-chevron-down ml-2 mb-2"></i>
        </a>
        {{ partial "page-meta-links.html" $.Page }}
        <div id="page__toc--expand" class="collapse">
          <div class="text-left">
            {{ . }}
          </div>
        </div>
      {{ else }}
        <h5 class="lead"><i class="fas fa-list mr-2"></i>Page Contents</h5>
        {{ partial "page-meta-links.html" $.Page }}
        <div class="text-left">
          {{ . }}
        </div>
      {{ end }}
    </div>
  </div>
{{ end }}